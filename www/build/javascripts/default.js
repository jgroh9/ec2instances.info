function change_region(e){var t=e.charAt(0).toUpperCase(),n=t+e.substr(1);$("#region-dropdown").find(".dropdown-toggle .text").text("Region: "+n),$("#region-dropdown").find("li a").each(function(t,n){n=$(n),n.attr("duration")==e?n.parent().addClass("active"):n.parent().removeClass("active")});var r=e.toLowerCase().replace(/\s+/g,""),i=current_region!=null?current_region.toLowerCase().replace(/\s+/g,""):r;$("#"+i).removeClass("show").addClass("hide"),$("#"+r).removeClass("hide").addClass("show"),current_region=e}function change_cost(e){var t=e.charAt(0).toUpperCase(),n=t+e.substr(1);$("#cost-dropdown").find(".dropdown-toggle .text").text("Cost: "+n),$("#cost-dropdown").find("li a").each(function(t,n){n=$(n),n.attr("duration")==e?n.parent().addClass("active"):n.parent().removeClass("active")});var r={hourly:1,daily:24,weekly:168,monthly:720,yearly:8760},i=r[e],s;$.each($("td.cost"),function(t,n){n=$(n),s=n.attr("hour_cost"),s=(s*i).toFixed(2),n.text("$"+s+" "+e)}),current_cost_duration=e}function setup_column_toggle(e){var t=e.toLowerCase().replace(/\s+/g,""),n=$(".data"),r=$("#filter-dropdown");r.find("ul").empty(),$.each(n,function(e,n){var i=$(n),s=i.attr("name");s==t?$.each(i.find("thead tr th"),function(e,t){r.find("ul").append($("<li>",{"class":"active"}).append($("<a>",{href:"javascript:;"}).text($(t).text()).click(function(t){toggle_column(i,e),$(this).parent().toggleClass("active"),$(this).blur(),t.stopPropagation()})))}):show_all_columns(i),i.css("width","100%")})}function toggle_column(e,t){var n=e.dataTable(),r=n.fnSettings().aoColumns[t].bVisible;n.fnSetColumnVis(t,r?!1:!0)}function show_all_columns(e){var t=e.dataTable(),n=t.fnSettings().aoColumns.length;for(var r=0;r<n;r++)t.fnSetColumnVis(r,!0)}var current_cost_duration=null,current_region=null;$("#cost-dropdown").find("li").bind("click",function(e){change_cost(e.target.getAttribute("duration"))}),$("#region-dropdown").find("li").bind("click",function(e){var t=e.target.getAttribute("region");change_region(t),setup_column_toggle(t)}),$(function(){$(document).ready(function(){$(".data").dataTable({bPaginate:!1,bDestroy:!0,bInfo:!1,bStateSave:!0,aoColumnDefs:[{aTargets:["memory","computeunits","storage","ioperf"],sType:"span-sort"}],aaSorting:[[8,"asc"]],fnDrawCallback:function(){change_cost(current_cost_duration),change_region(current_region)}})}),$.extend($.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper form-inline"});var e="US East - Virginia";change_cost("hourly"),change_region(e),setup_column_toggle(e),$("abbr").tooltip({placement:function(e,t){return this.$element.parents("thead").length?"top":"right"}})}),jQuery.extend(jQuery.fn.dataTableExt.oSort,{"span-sort-pre":function(e){var t=e.match(/sort="(.*?)"/);return t?parseInt(t[1],10):0},"span-sort-asc":function(e,t){return e<t?-1:e>t?1:0},"span-sort-desc":function(e,t){return e<t?1:e>t?-1:0}});